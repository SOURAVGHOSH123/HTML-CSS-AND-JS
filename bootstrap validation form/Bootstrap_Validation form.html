<!DOCTYPE html>
<html>

<head>
    <!--Fontawesome CSS CDN -->
    <link rel="stylesheet" href="Experiment-7.css" />
    <link href="script.js" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js">
    </script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js">
    </script>

    <script>
        $(function () {
            $("#login-link").click(function () {
                $("#login-box").show();
                $("#forgot-box").hide();
            });

            $("#forgot-link").click(function () {
                $("#login-box").hide();
                $("#forgot-box").show();
            });

            $("#back-btn").click(function () {
                $("#login-box").show();
                $("#forgot-box").hide();
            });

            $("#submit-btn").click(function () {
                $("#login-box").hide();
                $("#forgot-box").show();
            });
        });
    </script>

    <script>
        // Document is ready 
        $().ready(function () {

            // Validate Username 
            $("#usercheck").hide();
            let usernameError = true;
            $("#usernames").keyup(function () {
                validateUsername();
            });

            function validateUsername() {
                let usernameValue = $("#usernames").val();
                if (usernameValue.length == "") {
                    $("#usercheck").show();
                    usernameError = false;
                    return false;
                } else if (usernameValue.length < 3 || usernameValue.length > 10) {
                    $("#usercheck").show();
                    $("#usercheck").html("length of username must be between 3 and 10");
                    usernameError = false;
                    return false;
                } else {
                    $("#usercheck").hide();
                }
            }

            // Validate Email 
            const email = document.getElementById("email");
            email.addEventListener("blur", () => {
                let regex =
                    /^([\-\.0-9a-zA-Z]+)@([\-\.0-9a-zA-Z]+)\.([a-zA-Z]){2,7}$/;
                let s = email.value;
                if (regex.test(s)) {
                    email.classList.remove("is-invalid");
                    emailError = true;
                } else {
                    email.classList.add("is-invalid");
                    emailError = false;
                }
            });

            // Validate 2nd Email 
            const email1 = document.getElementById("email_check");
            email1.addEventListener("blur", () => {
                let regex = /^([\-\.0-9a-zA-Z]+)@([\-\.0-9a-zA-Z]+)\.([a-zA-Z]){2,7}$/;
                let s = email1.value;
                if (regex.test(s)) {
                    email1.classList.remove("is-invalid");
                    emailError = true;
                } else {
                    email1.classList.add("is-invalid");
                    emailError = false;
                }
            });

            // Validate Password 
            $("#passcheck").hide();
            let passwordError = true;
            $("#password").keyup(function () {
                validatePassword();
            });
            function validatePassword() {
                let passwordValue = $("#password").val();
                if (passwordValue.length == "") {
                    $("#passcheck").show();
                    passwordError = false;
                    return false;
                }
                if (passwordValue.length < 3 || passwordValue.length > 10) {
                    $("#passcheck").show();
                    $("#passcheck").html(
                        "length of your password must be between 3 and 10"
                    );
                    $("#passcheck").css("color", "rgb(28, 232, 72)");
                    passwordError = false;
                    return false;
                } else {
                    $("#passcheck").hide();
                }
            }

            // Validate Password  2nd
            $("#passcheck_check").hide();
                
            let passwordError1 = true;
            $("#password_check").keyup(function () {
                validatePassword1();
            });
            function validatePassword1() {
                let passwordValue1 = $("#password_check").val();
                if (passwordValue1.length == "") {
                    $("#passcheck_check").show();
                    passwordError1 = false;
                    return false;
                }
                if (passwordValue1.length < 3 || passwordValue1.length > 10) {
                    $("#passcheck_check").show();
                    $("#passcheck_check").html(
                        "length of your password must be between 3 and 10"
                    );
                    $("#passcheck_check").css("color", "rgb(28, 232, 72)");
                    passwordError1 = false;
                    return false;
                } else {
                    $("#passcheck_check").hide();
                }
            }

            // Validate Confirm Password 
            $("#conpasscheck").hide();
            let confirmPasswordError = true;
            $("#conpassword").keyup(function () {
                validateConfirmPassword();
            });
            function validateConfirmPassword() {
                let confirmPasswordValue = $("#conpassword").val();
                let passwordValue = $("#password").val();
                if (passwordValue != confirmPasswordValue) {
                    $("#conpasscheck").show();
                    $("#conpasscheck").html("Password didn't Match");
                    $("#conpasscheck").css("color", "rgb(28, 232, 72)");
                    confirmPasswordError = false;
                    return false;
                } else {
                    $("#conpasscheck").hide();
                }
            }

            // Submit button 
            $("#submitbtn").click(function () {
                validateUsername();
                validatePassword();
                validateConfirmPassword();
                validateEmail();
                if (
                    usernameError == true &&
                    passwordError == true &&
                    confirmPasswordError == true &&
                    emailError == true
                ) {
                    return true;
                } else {
                    return false;
                }
            });
        });

    </script>
</head>

<body>
    <div class="container mt-3">
        <!-- Log in -->
        <div id="login-box">
            <div class="validate_form bg-dark text-primary m-auto d-block myShadow">
                <p class="text-center text-warning"> Log In</p>
                <div class="col-lg-8 m-auto">

                    <form class="needs-validation">
                        <div class="form-group">
                            <label for="user"> Email: </label>
                            <input type="email" name="email" id="email_check" required class="form-control">
                            <h5 id="emailvalid_check" class="form-text invalid-feedback"
                                style="color: rgb(28, 232, 72);">
                                Your email must be a valid email
                            </h5>
                        </div>

                        <div class="form-group">
                            <label for="password"> Password: </label>
                            <input type="password" name="pass" id="password_check" class="form-control">
                            <h5 id="passcheck_check" style="color: rgb(28, 232, 72);"> Please Fill the password </h5>
                        </div>

                        <div class="forgot float-right">
                            <a href="#forgot-box" id="forgot-link">Forgot Password?</a>
                        </div>

                        <button id="login-link" value="Log In" class="btn btn-primary btn-lg btn-block myBtn">Log In
                        </button>
                        <br><br>

                    </form>
                </div>
            </div>
        </div>
        <br><br>

        <!-- Forget password -->
        <div id="forgot-box">
            <div class="validate_form bg-dark text-primary mt-4 m-auto d-block myShadow">
                <p class="text-center text-warning"> Forget password</p>
                <div class="col-lg-8 m-auto">
                    <form>
                        <div class="form-group">
                            <label for="user"> Username:</label>
                            <input type="text" name="username" id="usernames" class="form-control">
                            <h5 id="usercheck" style="color: rgb(28, 232, 72);"> Username is missing </h5>
                        </div>

                        <div class="form-group">
                            <label for="user"> Email: </label>
                            <input type="email" name="email" id="email" required class="form-control">
                            <h5 id="emailvalid" class="form-text invalid-feedback" style="color: rgb(28, 232, 72);">
                                Your email must be a valid email
                            </h5>
                        </div>

                        <div class="form-group">
                            <label for="password"> Password: </label>
                            <input type="password" name="pass" id="password" class="form-control">
                            <h5 id="passcheck" style="color: rgb(28, 232, 72);"> Please Fill the password </h5>
                        </div>

                        <div class="form-group">
                            <label for="conpassword"> Confirm Password: </label>
                            <input type="password" name="username" id="conpassword" class="form-control">
                            <h5 id="conpasscheck" style="color: rgb(28, 232, 72);"> Password didn't match </h5>
                        </div>
                        <br>
                        <input type="submit" id="submit-btn" value="Submit" class="btn btn-primary btn-lg btn-block myBtn">
                        <button id="back-btn" value="Back" class="btn btn-primary btn-lg btn-block myBtn">Back </button>
                        <br>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Including app.js jQuery Script
	<script src="app.js"></script>  -->
</body>
</html>